<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="icon" href="../../E2_icon.svg" sizes="any" type="image/svg">
<link rel="stylesheet" type="text/css" href="../../text_style.css">
<title>E2: cellab </title>
</head>
<body>
<h1>E2: cellab</h1>
<p>
<!--<kbd style="color:red">TODO</kbd>-->
This library defines a parametrised model of a mammalian cerebral cortex
[<a href="./cellab.html#r01">1</a>] called <em>neural tissue</em> in the whole E2
project. Instances of the model (for given parameters) are primary subjects of the
study in this project. A <em>parameter</em> of the neural tissue is any datum passed
to any library function constructing the model in the memory or any algorithm
passed to any library function performing a simulation step.
</p><p>
The neural tissue consists of two parts: <em>data structures</em> defining how
model's state is stored in the memory, and <em>transition algorithms</em> allowing
a computation of a next state from the current one. We describe these two parts
in the following three sections. Namely, in the first section we present what data
the model uses. Next we describe how the data are physically stored in the memory.
And in the third section we describe transition algorithms.
</p>
<h2 id="neural_tissue">Structure of neural tissue</h2>
<p>
Here we specify what data components the neural tissue is made of, what is their internal
structure and purpose, and how they are logically organised (the physical organisation of
the data in the memory is discussed in the next section). The basic structure
of the neural tissue is depicted here.
</p>
<img class="figure"
     src="./tissue_layout.svg"
     alt="[tissue_layout.svg]">
<p>
We see three main components of the model: a <em>tissue</em>, <em>sensory cells</em>,
and <em>synapses to muscles</em>. The tissue stores a state of the model.
Sensory cells and synapses to muscles allow for information exchange between
the tissue and an external <i>environment</i> which is <i>not</i> a part of the model
(see the library
<a href="../envlab/envlab.html">envlab</a>
for more information). We describe all tree components of the model in more details
in the following subsections.
</p>
<h3 id="tissue">Tissue</h3>
<p>
The tissue is a 2D array of <em>columns</em>.
There is <i>X</i> columns along the X axis and <i>Y</i> columns along the Y axis.
Valid indices to the array belong to the set
{0,&hellip;,<i>X</i>&minus;1}&times;{0,&hellip;,<i>Y</i>&minus;1}.
All columns in the tissue have the identical structure. Each column consists of
<i>C</i> <i>territories</i> aligned along the <i>columnar</i> axis C.
Each territory is uniquely identified in its column by a columnar
coordinate taken from the set {0,&hellip;,<i>C</i>&minus;1}. Moreover,
a territory  is uniquely identified in the whole tissue by three coordinates
along the axes X, Y, and C. Territories are thus regularly distributed in the
<em>left-handed</em> 3D Cartesian space
[<a href="./cellab.html#r02">2</a>].
We discuss the structure of a column and a territory in a
<a href="./cellab.html#structure_of_column">separate section</a>
later. For now
it is sufficient to say that the model allows to split territories in a column
into <i>K</i> different <i>kinds</i> {0,&hellip;,<i>K</i>&minus;1}. We can see
in the picture that first <i>N</i><sub>0</sub> territories in each column are
of the kind 0, next <i>N</i><sub>1</sub> territories are of the kind 1, and so on.
Observe that
<i>C</i> = <i>N</i><sub>0</sub> + &hellip; + <i>N</i><sub><i>K</i>&minus;1</sub>.
The model does <em>not</em> define interpretations of kinds.
This is left for parametrisations of the model. For example, a parametrisation
may interpret a kind as an identifier of an algorithm simulating certain behavior
of a component inside a territory of that kind.
</p>
<h3 id="sensory_cells">Sensory cells</h3>
<p>
Sensory cells allows for delivery of information form an external environment
to the tissue. They are split into <i>S</i> different
<i>sensory kinds</i> {0,&hellip;,<i>S</i>&minus;1}. The model does <em>not</em> define
interpretations of these kinds. This is left for parametrisations of the model.
For example, a parametrisation may interpret a kind as an assignment of sensory cells
(of that kind) to particular sense organs like eye, ear, nose, etc. Both sense
organs and even the process of encoding of information captured by senses into
the corresponding sensory cells are <i>not</i> parts of the model. They all belong
to the environment.
</p><p>
Due to purely technical reasons (which will be presented later
<kbd style="color:red">here</kbd>)
we align sensory cells
with the columnar axis C of the tissue. It means that each sensory cell has a unique
coordinate along the axis. We can see in the picture that the first sensory cell
(depicted at the top) is associated with the first free coordinate <i>C</i> along
the axis (the columnar axis is depicted on the left of the list of the sensory cells).
Note though that sensory cells do <em>not</em> have coordinates along X and Y axes
of the tissue.
</p><p>
Observe further that the number of sensory cell of a sensory kind
<i>i</i> is represented by a number <i>N</i><sub><i>K</i>+<i>i</i></sub>. This
notation follows from the technicals reasons mentioned above.  It allows us to
encapsulate both kinds of cells (tissue and sensory) and their counts under one
representation accessed using a single mechanism. The last sensory cell (depicted
at the bottom) is assigned the highest valid coordinate <i>C</i><sub><i>S</i></sub>
along the columnar axis C. Clearly,
<i>C</i><sub><i>S</i></sub>
    = <i>C</i> + <i>N</i><sub><i>K</i>+0</sub> + &hellip;
        + <i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>
    = <i>N</i><sub>0</sub> + &hellip; + <i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>.
</p><p>
Despite of division of sensory cells according to kinds, they are still
organised in one (long) list of cells as depicted in the picture from the top down.
Therefore, we can also identify individual sensory cells by their index (ordinal number)
in the list. The cell at the top has the index 0 and the cell at the bottom has the
index <i>C</i><sub><i>S</i></sub>&minus;<i>C</i>&minus;1.
</p>
<h3 id="synapses_to_muscles">Synapses to muscles</h3>
<p>
Synapses to muscles allows for delivery of information form the tissue to an external
environment. They are split into <i>U</i> different <i>kinds</i>
{0,&hellip;,<i>U</i>&minus;1}. The model does <em>not</em> define interpretations
of these kinds. This is left for parametrisations of the model. For example,
a parametrisation may interpret a kind as an assignment of synapses (of that kind)
to a particular muscle like biceps, triceps, etc. Neither muscles, the process of
decoding of information stored in the synapses, nor updating the environment
according to an effect of the decoded information on corresponding muscles
are <i>not</i> parts of the model. They all belong to the environment.
</p><p>
We can see in the picture above the number of synapses to muscles of a muscle
kind <i>i</i> is represented by a number <i>M</i><sub><i>i</i></sub>. The total
number of synapses to muscles in the model is thus
<i>M</i><sub>0</sub> + &hellip; + <i>M</i><sub><i>U</i>&minus;1</sub>.
</p><p>
Despite of division of synapses to muscles according to kinds, they are still
organised in one (long) list as depicted in the picture from the top down.
We thus identify them by indices (ordinals) in the list. The synapse
at the top has the index 0 and the synapse at the bottom has the
index <i>M</i><sub>0</sub> + &hellip; + <i>M</i><sub><i>U</i>&minus;1</sub> &minus; 1.
</p>
<h3 id="structure_of_column">Structure of column in tissue</h3>
<p>
We already know that a tissue column is a list of territories aligned along the
columnar axis and that territories are logically grouped according to kinds.
In this section we considerably extend this description. We start with a picture
where we show a column and its territories with all their components.
</p>
<img class="figure"
     src="./column_and_cell_territory_structure.svg"
     alt="[column_and_cell_territory_structure.svg]">
<p>
We see that all territories (across all kinds) consist of six types of
components: a tissue <em>cell</em>, a <em>signalling</em>, a <em>delimiters list</em>,
and three lists of <em>synapses</em>, <em>territorial states</em> of synapses, and
<em>coordinates of source cells</em> of synapses. These three lists have the same length
in each territory (of any kind). Moreover, lengths of the lists in all territories of
the kind 0 is <i>T</i><sub>0</sub>, lengths of the lists in all territories of the kind 1
is <i>T</i><sub>1</sub>, and so on.
</p><p>
Each territory in the neural tissue is a <em>behavioral model</em> of a corresponding
spatial region in a modelled mammalian cerebral cortex
[<a href="./cellab.html#r01">1</a>].
If the mammalian cerebral cortex consists of <i>n</i> neurons
[<a href="./cellab.html#r03">3</a>],
then we can always spatially partition the whole
matter of the cortex into <i>n</i> non-overlapping regions with bodies of the neurons
in their centers. Besides the body of a neuron a region typically also contains synapses
[<a href="./cellab.html#r04">4</a>]
connected to the neuron, axons
[<a href="./cellab.html#r05">5</a>]
and dendrites
[<a href="./cellab.html#r06">6</a>]
traversing the region, glia cells
[<a href="./cellab.html#r07">7</a>],
inter-cellular liquid, and so on.
A territory (as a model of a region) is thus supposed to model all desired behaviour
occurring in the region. This is actually done via components of the territory. We
describe individual types of components in subsections below.
</p><p>
A territory is, in fact, an abstract term in the neural tissue. Indeed, it is
associated with no data. It is only a term allowing us to collectively name
certain components (with physical data) sharing some spatial and logical
properties.

</p>
<h4 id="tissue_cell">Tissue cell</h4>
<p>
It is an array of bytes storing a compressed state of a modelled neuron (whose
body lies in the center of a region in the mammalian cerebral cortex associated
with the territory). We do <em>not</em> define interpretation of individual bytes
(i.e. what information is stored) nor a compression method. This is left for
parametrisations. For example, a parametrisation may choose (according to the
kind of the territory) to store a state of the leaky integrate-and-fire neuron
[<a href="./cellab.html#r09">9</a>,
 <a href="./cellab.html#r08">8</a>],
the Izhikevich neuron
[<a href="./cellab.html#r10">10</a>,
 <a href="./cellab.html#r08">8</a>],
the McCulloch-Pitts neuron
[<a href="./cellab.html#r11">11</a>,
 <a href="./cellab.html#r08">8</a>],
Hodgkin-Huxley neuron
[<a href="./cellab.html#r12">12</a>,
 <a href="./cellab.html#r08">8</a>],
or any other available model of a neuron. A compression method can be, for example,
serialisation
[<a href="./cellab.html#r13">13</a>].
</p><p>
We define a term <em>a kind of tissue cell</em> as a synonym for <em>a kind of a
territory</em>. Although the later is more accurate from the theoretical point of
view, in the C++ implementation of the library it is more convenient to use the
former term due to the abstract nature of a territory (it has no data) and since a
tissue cell is the central component from the point of view of the computational
complexity.
</p>
<h4 id="signalling">Signalling</h4>
<p>
It is an array of bytes storing that part of a state of a territory which is not
modelled by any other component of that territory. A compression is used to store
the information.  We do <em>not</em> define interpretation of individual bytes
(i.e. what information is stored) nor a compression method. This is left for
parametrisations. For example, a parametrisation may store an information
necessary for guidance of axons
[<a href="./cellab.html#r14">14</a>,
 <a href="./cellab.html#r15">15</a>,
 <a href="./cellab.html#r16">16</a>]
passing through the territory to reach target cells. The information may be
expressed, for example, in a form of a distribution of concentrations of
guidance cues
[<a href="./cellab.html#r17">17</a>,
 <a href="./cellab.html#r18">18</a>,
 <a href="./cellab.html#r19">19</a>,
 <a href="./cellab.html#r20">20</a>]
in the 3D space associated with the territory. A compression method can be,
for example, serialisation
[<a href="./cellab.html#r13">13</a>].
</p><p>

</p>
<h4 id="territorial_lists">Territorial lists</h4>
<p>
There are four lists in a territory. Namely, the list of synapses, the list of territorial
states, the list of coordinates of source cells, and the delimiters list. The first three
lists are tightly related, namely their elements on the same indices. The delimiters
list is an increasing sequence of exactly six indices into the other three lists
simultaneously. The relations between all lists are depicted in the picture below
for a territory of a kind <i>i</i> (the cell and the signalling are omitted).
</p>
<img class="figure"
     src="./territorial_lists.svg"
     alt="[territorial_lists.svg]">
<p>
The delimiters list <i>D</i><sub><i>i</i></sub> is depicted on the left and the three other
lists are depicted on the right, from the top down. The symbols <i>LS</i><sub><i>i</i></sub>,
<i>LT</i><sub><i>i</i></sub>, and <i>LC</i><sub><i>i</i></sub> denote the lists of synapses,
territorial states, and coordinates of source cells, respectively. Observe that these three
lists have the same lenght and elements on the same indices are aligned, i.e. they form
triples across the lists.
</p><p>
For each an index <i>j</i> (0&le;<i>j</i>&lt;<i>T</i><sub><i>i</i></sub>) a triple
(<i>LS</i><sub><i>i</i></sub>[<i>j</i>],
<i>LT</i><sub><i>i</i></sub>[<i>j</i>],
<i>LC</i><sub><i>i</i></sub>[<i>j</i>])
represents a model of an axon
[<a href="./cellab.html#r05">5</a>]
projected from a certain tissue cell to this territory. It is assumed in the neural
tissue that the triple models the whole axon, including all its important parts like
growth cone (when the axon is searching for a target tissue cell),
synapse (when the axon is connected to a tissue cell),
and the (myelined) fibre itself. Nevertheless, we do <em>not</em> specify
in what details what parts of an axon are modelled. It is left for a parametrisation.
Therefore, a parametrisation may, in fact, abstract any part of an axon in a way
that it actually has no representation in the triple. We discuss properties of
all element of the triple in the following three subsections.
</p><p>
Delimiters list <i>D</i><sub><i>i</i></sub> has no interpretation in the modelled
mammalian cerebral cortex. It is a technicality boosting algorithms of the neural
tissue operating on the other lists. Here we discuss only a necessary minimum about
the algorithms to understand the meaning of <i>D</i><sub><i>i</i></sub> (details are
<kbd style="color:red">HERE</kbd> and <kbd style="color:red">HERE</kbd>).
The lists <i>LS</i><sub><i>i</i></sub>, <i>LT</i><sub><i>i</i></sub>, and
<i>LC</i><sub><i>i</i></sub> are synchronously sorted according to information stored
in <i>LT</i><sub><i>i</i></sub>. Each element of <i>LT</i><sub><i>i</i></sub> is
an integer from a set {0,&hellip;,6}, see a
<a href="./cellab.html#territorial_state">sub-section below</a>
for details. By synchronous sorting we mean that if for some indices <i>j</i> and
<i>k</i> the elements <i>LT</i><sub><i>i</i></sub>[<i>j</i>] and
<i>LT</i><sub><i>i</i></sub>[<i>k</i>]
are in a wrong order, then there is swapped
<i>LS</i><sub><i>i</i></sub>[<i>j</i>] with  <i>LS</i><sub><i>i</i></sub>[<i>k</i>],
<i>LT</i><sub><i>i</i></sub>[<i>j</i>] with  <i>LT</i><sub><i>i</i></sub>[<i>k</i>],
and
<i>LC</i><sub><i>i</i></sub>[<i>j</i>] with  <i>LC</i><sub><i>i</i></sub>[<i>k</i>].
In other words, the sorting respects the triples constructed across the lists.
Once the lists are sorted, we construct a look-up table
<i>d</i><sub><i>i</i></sub> =
[0, <i>n</i><sub>0</sub>, <i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>,
    <i>n</i><sub>3</sub>, <i>n</i><sub>4</sub>, <i>n</i><sub>5</sub>,
    <i>T</i><sub><i>i</i></sub>],
where <i>n</i><sub><i>j</i></sub> is a number of elements in
<i>LT</i><sub><i>i</i></sub> less than or equal to <i>j</i>. For each
<i>k</i>&isin;{0,&hellip;,6} the look-up table identifies a range of indices of triples,
namely <i>d</i><sub><i>i</i></sub>[<i>k</i>], &hellip;,
<i>d</i><sub><i>i</i></sub>[<i>k</i>+1]&minus;1, which all have the same value
<i>k</i> in the list <i>LT</i><sub><i>i</i></sub>. The delimiters list
<i>D</i><sub><i>i</i></sub> is then defined as
[<i>n</i><sub>0</sub>, <i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>,
    <i>n</i><sub>3</sub>, <i>n</i><sub>4</sub>, <i>n</i><sub>5</sub>].
We store <i>D</i><sub><i>i</i></sub> in the territory instead of
<i>d</i><sub><i>i</i></sub> in order to save memory. The reconstruction
of <i>d</i><sub><i>i</i></sub> from <i>D</i><sub><i>i</i></sub> is trivial.
Note that we call the numbers <i>n</i><sub><i>j</i></sub> as <em>delimiters</em>.
</p>
<h4 id="synapse">Synapse</h4>
<p>
</p>
<h4 id="territorial_state">Territorial state</h4>
<p>

</p>
<h4 id="coordinates_to_source_cell">Coordinates to source cell</h4>
<p>

</p>


<h2 id="memory_representation">Memory representation of the neural tissue</h2>

<h2 id="transition_algorithms">Transition algorithms</h2>
<!--<p>-->
<!--An update of a cell proceeds in three steps: a decompression of the array of bytes-->
<!--into a separate memory outside the model, update of this memory by calling a given-->
<!--algorithm, and a compression of the updated memory back to the cell (to its array-->
<!--of bytes). The algorithm is <em>not</em> a part of the model. It is a part of a-->
<!--parametrisation. The model is only responsible for calling these steps in the right-->
<!--time and in the right order.-->
<!--</p>-->
<!--<h3 id="tissue_column_in_details">Tissue column in details</h3>-->


<!--<ul><li>-->
<!--<a href="../../../code/cellab/include/cellab/static_state_of_neural_tissue.hpp">-->
    <!--static_state_of_neural_tissue.hpp</a> and-->
<!--</li><li>-->
<!--<a href="../../../code/cellab/src/static_state_of_neural_tissue.cpp">-->
    <!--static_state_of_neural_tissue.cpp</a>.-->
<!--</li></ul>-->


<h2 id="references">References</h2>
<table>
    <tr><td id="r01">[1]</td><td>
        Wikipedia: Cerebral cortex.
        <a href="https://en.wikipedia.org/wiki/Cerebral_cortex">
            https://en.wikipedia.org/wiki/Cerebral_cortex</a>.
    </td></tr>
    <tr><td id="r02">[2]</td><td>
        Wikipedia: Cartesian space.
        <a href="https://en.wikipedia.org/wiki/Cartesian_coordinate_system">
            https://en.wikipedia.org/wiki/Cartesian_coordinate_system</a>.
    </td></tr>
    <tr><td id="r03">[3]</td><td>
        Wikipedia: Neuron.
        <a href="https://en.wikipedia.org/wiki/Neuron">
            https://en.wikipedia.org/wiki/Neuron</a>.
    </td></tr>
    <tr><td id="r04">[4]</td><td>
        Wikipedia: Synapse.
        <a href="https://en.wikipedia.org/wiki/Synapse">
            https://en.wikipedia.org/wiki/Synapse</a>.
    </td></tr>
    <tr><td id="r05">[5]</td><td>
        Wikipedia: Axon.
        <a href="https://en.wikipedia.org/wiki/Axon">
            https://en.wikipedia.org/wiki/Axon</a>.
    </td></tr>
    <tr><td id="r06">[6]</td><td>
        Wikipedia: Dendrite.
        <a href="https://en.wikipedia.org/wiki/Dendrite">
            https://en.wikipedia.org/wiki/Dendrite</a>.
    </td></tr>
    <tr><td id="r07">[7]</td><td>
        Wikipedia: Glia cell.
        <a href="https://en.wikipedia.org/wiki/Neuroglia">
            https://en.wikipedia.org/wiki/Neuroglia</a>.
    </td></tr>
    <tr><td id="r08">[8]</td><td>
        Thomas Trappenberg. Fundamentals of Computational Neuroscience.
        OXFORD University Press, 2010.
    </td></tr>
    <tr><td id="r09">[9]</td><td>
        Wikipedia: Leaky integrate-and-fire neuron.
        <a href="https://en.wikipedia.org/wiki/Biological_neuron_model#Leaky_integrate-and-fire">
            https://en.wikipedia.org/wiki/Biological_neuron_model#Leaky_integrate-and-fire</a>.
    </td></tr>
    <tr><td id="r10">[10]</td><td>
        <a href="http://www.izhikevich.org/publications/spikes.htm">
            http://www.izhikevich.org/publications/spikes.htm</a>.
    </td></tr>
    <tr><td id="r11">[11]</td><td>
        Martin Anthony.
        <a href="https://books.google.fr/books?id=qOy4yLBqhFcC&pg=PA3&redir_esc=y#v=onepage&q&f=false">
            Discrete Mathematics of Neural Networks: Selected Topics</a>.
        SIAM, 2001.
    </td></tr>
    <tr><td id="r12">[12]</td><td>
        Wikipedia: Hodgkin-Huxley neuron.
        <a href="https://en.wikipedia.org/wiki/Hodgkin%E2%80%93Huxley_model">
            https://en.wikipedia.org/wiki/Hodgkin%E2%80%93Huxley_model</a>.
    </td></tr>
    <tr><td id="r13">[13]</td><td>
        Wikipedia: Serialisation.
        <a href="https://en.wikipedia.org/wiki/Serialization">
            https://en.wikipedia.org/wiki/Serialization</a>.
    </td></tr>
    <tr><td id="r14">[14]</td><td>
        Wikipedia: Axon guidance.
        <a href="https://en.wikipedia.org/wiki/Axon_guidance">
            https://en.wikipedia.org/wiki/Axon_guidance</a>.
    </td></tr>
    <tr><td id="r15">[15]</td><td>
        MBInfo: Axon guidance and growth cone.
        <a href="http://www.mechanobio.info/modules/go-0007411">
            http://www.mechanobio.info/modules/go-0007411</a>.
    </td></tr>
    <tr><td id="r16">[16]</td><td>
        MBInfo: Axon guidance and growth cone.
        <a href="http://www.mechanobio.info/modules/go-0007411/1_go-0007411">
            http://www.mechanobio.info/modules/go-0007411/1_go-0007411</a>.
    </td></tr>
    <tr><td id="r17">[17]</td><td>
        Wikipedia: Slit-Robo.
        <a href="https://en.wikipedia.org/wiki/Slit-Robo">
            https://en.wikipedia.org/wiki/Slit-Robo</a>.
    </td></tr>
    <tr><td id="r18">[18]</td><td>
        Wikipedia: Ephrin.
        <a href="https://en.wikipedia.org/wiki/Ephrin">
            https://en.wikipedia.org/wiki/Ephrin</a>.
    </td></tr>
    <tr><td id="r19">[19]</td><td>
        Wikipedia: Netrin.
        <a href="https://en.wikipedia.org/wiki/Netrin">
            https://en.wikipedia.org/wiki/Netrin</a>.
    </td></tr>
    <tr><td id="r20">[20]</td><td>
        Wikipedia: Semaphorin.
        <a href="https://en.wikipedia.org/wiki/Semaphorin">
            https://en.wikipedia.org/wiki/Semaphorin</a>.
    </td></tr>
</table>

</body>
</html>
