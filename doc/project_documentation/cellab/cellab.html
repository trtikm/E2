<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="icon" href="../../E2_icon.svg" sizes="any" type="image/svg">
<link rel="stylesheet" type="text/css" href="../../text_style.css">
<title>E2: cellab </title>
</head>
<body>
<h1>E2: cellab</h1>
<p>
<!--<kbd style="color:red">TODO</kbd>-->
This library defines a parametrised model of a mammalian cerebral cortex
[<a href="./cellab.html#r01">1</a>] called a <em>neural tissue</em> in the whole E2
project. Instances of the model (for given parameters) are primary subjects of the
study in this project. A <em>parameter</em> of the neural tissue is any datum passed
to any library function constructing the model in the memory or any algorithm
passed to any library function performing a simulation step.
</p><p>
The neural tissue consists of two parts: <em>data structures</em> defining how
model's state is stored in the memory, and <em>transition algorithms</em> allowing
a computation of a next state from the current one. We describe these two parts
in the following three sections. Namely, in the
<a href="./cellab.html#neural_tissue">first section</a>
we present what data the model uses. In the
<a href="./cellab.html#memory_representation">next section</a>
we describe how the data are physically stored in the memory.
And in the
<a href="./cellab.html#transition_algorithms">third section</a>
we describe transition algorithms.
</p><p>
The library further provides a data type for aggregation of the neural tissue
with its parametrisation. We discuss it in the
<a href="./cellab.html#aggregation_with_parametrisation">fourth section</a>.
</p>
<h2 id="neural_tissue">1.&nbsp;&nbsp;&nbsp;Structure of neural tissue</h2>
<p>
A state of the neural tissue is stored in two data structures: <em>static state</em>
and <em>dynamic state</em>. While the static state holds all data which remain constant
during the whole simulation, the dynamic state holds all data which can be modified
during the simulation.
</p>
<h3 id="static_state">1.1&nbsp;&nbsp;&nbsp;Static state</h3>
<p>
It is a storage of global immutable properties of the neural tissue. The properties
are specified by a parametrisation (so they are actually parameters). In the table
below we list the properties with their brief descriptions. We complete the descriptions
in the
<a href="./cellab.html#dynamic_state">next section</a>
where we will see the properties in the context of the dynamic state.
</p>
<table class="enumerate">
<tr>
<th align="right">Property</th>
<th>&nbsp;&nbsp;&nbsp;</th>
<th align="left">Description</th>
</tr>
<tr><td align="right" valign="top">
<i>K</i>
</td><td></td><td align="left" valign="top">
A number of kinds of territories in the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>S</i>
</td><td></td><td align="left" valign="top">
A number of kinds of sensory cells.
</td></tr>
<tr><td align="right" valign="top">
<i>U</i>
</td><td></td><td align="left" valign="top">
A number of kinds of synapses to muscles.
</td></tr>
<tr><td align="right" valign="top">
[<i>N</i><sub>0</sub>,&hellip;,<i>N</i><sub><i>K</i>&minus;1</sub>]
</td><td></td><td align="left" valign="top">
An array of <i>K</i> numbers, where <i>N</i><sub><i>i</i></sub>
is a count of tissue cells of the kind
<i>i</i>.
</td></tr>
<tr><td align="right" valign="top">
[<i>N</i><sub><i>K</i></sub>,&hellip;,<i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>]
</td><td></td><td align="left" valign="top">
An array of <i>S</i> numbers, where <i>N</i><sub><i>i</i></sub>
is a count of sensory cells of the kind
<i>i</i>&minus;<i>K</i>.
</td></tr>
<tr><td align="right" valign="top">
[<i>M</i><sub>0</sub>,&hellip;,<i>M</i><sub><i>U</i>&minus;1</sub>]
</td><td></td><td align="left" valign="top">
An array of <i>U</i> numbers, where <i>M</i><sub><i>i</i></sub>
is a count of synapses to muscles of the kind
<i>i</i>.
</td></tr>
<tr><td align="right" valign="top">
[<i>T</i><sub>0</sub>,&hellip;,<i>T</i><sub><i>K</i>&minus;1</sub>]
</td><td></td><td align="left" valign="top">
An array of <i>K</i> numbers, where <i>T</i><sub><i>i</i></sub>
is a count of elements in all three territorial lists <i>LS</i>, <i>LT</i>,
and <i>LC</i> (see the lists
<a href="./cellab.html#territorial_lists">here</a>)
in any territory of the kind <i>i</i>.
</td></tr>
<tr><td align="right" valign="top">
<i>N</i><sub>S</sub>
</td><td></td><td align="left" valign="top">
A total number of sensory cells, i.e.
<i>N</i><sub>S</sub> =
    <i>N</i><sub><i>K</i></sub>+&hellip;+<i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>.
</td></tr>
<tr><td align="right" valign="top">
<i>N</i><sub>M</sub>
</td><td></td><td align="left" valign="top">
A total number of synapses to muscles, i.e.
<i>N</i><sub>M</sub> =
    <i>M</i><sub>0</sub>+&hellip;+<i>M</i><sub><i>U</i>&minus;1</sub>.
</td></tr>
<tr><td align="right" valign="top">
<i>X</i>
</td><td></td><td align="left" valign="top">
A number of columns along X axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>Y</i>
</td><td></td><td align="left" valign="top">
A number of columns along Y axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>C</i>
</td><td></td><td align="left" valign="top">
A number of territories along the columnar C axis of the tissue, i.e.
<i>C</i> = <i>N</i><sub>0</sub>+&hellip;+<i>N</i><sub><i>K</i>&minus;1</sub>.
</td></tr>
<tr><td align="right" valign="top">
<i>C</i><sub><i>S</i></sub>
</td><td></td><td align="left" valign="top">
It is the highest valid coordinate along the columnar axis C, i.e.
it is the number <i>C</i>+<i>N</i><sub><i>S</i></sub>&minus;1.
</td></tr>
<tr><td align="right" valign="top">
<i>M</i><sub>X</sub>
</td><td></td><td align="left" valign="top">
A mode map (either clip or torus) for X axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>M</i><sub>Y</sub>
</td><td></td><td align="left" valign="top">
A mode map (either clip or torus) for Y axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>M</i><sub>C</sub>
</td><td></td><td align="left" valign="top">
A mode map (either clip or torus) for the columnar axis C of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RC</i><sub>X</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for tissue cells in X axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RC</i><sub>Y</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for tissue cells in Y axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RC</i><sub>C</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for tissue cells in the columnar C axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RS</i><sub>X</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for signallings in X axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RS</i><sub>Y</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for signallings in Y axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RS</i><sub>C</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for signallings in the columnar C axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RT</i><sub>X</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for triples over territorial lists <i>LS</i>, <i>LT</i>,
and <i>LC</i> (see the lists
<a href="./cellab.html#territorial_lists">here</a>)
in X axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RT</i><sub>Y</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for triples over territorial lists <i>LS</i>, <i>LT</i>,
and <i>LC</i> (see the lists
<a href="./cellab.html#territorial_lists">here</a>)
in Y axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>RT</i><sub>C</sub>
</td><td></td><td align="left" valign="top">
Arrays of <i>K</i> radii for triples over territorial lists <i>LS</i>, <i>LT</i>,
and <i>LC</i> (see the lists
<a href="./cellab.html#territorial_lists">here</a>)
in the columnar C axis of the tissue.
</td></tr>
<tr><td align="right" valign="top">
<i>NB</i><sub>C</sub>
</td><td></td><td align="left" valign="top">
A number of bits reserved for a tissue cell. The number must be aligned to 8 bits
(i.e. a multiple of 8).
</td></tr>
<tr><td align="right" valign="top">
<i>NB</i><sub>S</sub>
</td><td></td><td align="left" valign="top">
A number of bits reserved for a synapse. The number must be aligned to 8 bits
(i.e. a multiple of 8).
</td></tr>
<tr><td align="right" valign="top">
<i>NB</i><sub>G</sub>
</td><td></td><td align="left" valign="top">
A number of bits reserved for a signalling. The number must be aligned to 8 bits
(i.e. a multiple of 8).
</td></tr>
</table>
<h3 id="dynamic_state">1.2&nbsp;&nbsp;&nbsp;Dynamic state</h3>
<p>
A dynamic state has the following general structure which is fully determined
by data stored in the corresponding static state.
</p>
<img class="figure"
     src="./tissue_logical_layout.svg"
     alt="[tissue_logical_layout.svg]">
<p>
We see three main components: a <em>tissue</em>, <em>sensory cells</em>,
and <em>synapses to muscles</em>. The tissue stores a major part of the neural tissue's
state. Sensory cells and synapses to muscles allow for information exchange between
the tissue and an external <i>environment</i> which is <i>not</i> a part of the model
(see the library
<a href="../envlab/envlab.html">envlab</a>
for more information).
</p>
<h4 id="tissue">1.2.1&nbsp;&nbsp;&nbsp;Tissue</h4>
<p>
It is a 2D array of <em>columns</em>.
There is <i>X</i> columns along the X axis and <i>Y</i> columns along the Y axis.
Valid indices to the array belong to the set
{0,&hellip;,<i>X</i>&minus;1}&times;{0,&hellip;,<i>Y</i>&minus;1}.
All columns in the tissue have the identical structure. Each column consists of
<i>C</i> <i>territories</i> aligned along the <i>columnar</i> axis C.
Each territory is uniquely identified in its column by a columnar
coordinate taken from the set {0,&hellip;,<i>C</i>&minus;1}. Moreover,
a territory  is uniquely identified in the whole tissue by three coordinates
along the axes X, Y, and C. Territories are thus regularly distributed in the
<em>left-handed</em> 3D Cartesian space
[<a href="./cellab.html#r02">2</a>].
We discuss the structure of a column and a territory in a
<a href="./cellab.html#structure_of_column">separate section</a>
later. For now
it is sufficient to say that the model allows to split territories in a column
into <i>K</i> different <i>kinds</i> {0,&hellip;,<i>K</i>&minus;1}. We can see
in the picture that first <i>N</i><sub>0</sub> territories in each column are
of the kind 0, next <i>N</i><sub>1</sub> territories are of the kind 1, and so on.
Observe that
<i>C</i> = <i>N</i><sub>0</sub> + &hellip; + <i>N</i><sub><i>K</i>&minus;1</sub>.
The model does <em>not</em> define interpretations of kinds.
This is left for parametrisations of the model. For example, a parametrisation
may interpret a kind as an identifier of an algorithm simulating certain behavior
of a component inside a territory of that kind.
</p>
<h4 id="sensory_cells">1.2.2&nbsp;&nbsp;&nbsp;Sensory cells</h4>
<p>
Sensory cells allows for delivery of information form an external environment
to the tissue. They are split into <i>S</i> different
<i>sensory kinds</i> {0,&hellip;,<i>S</i>&minus;1}. The model does <em>not</em> define
interpretations of these kinds. This is left for parametrisations of the model.
For example, a parametrisation may interpret a kind as an assignment of sensory cells
(of that kind) to particular sense organs like eye, ear, nose, etc. Both sense
organs and even the process of encoding of information captured by senses into
the corresponding sensory cells are <i>not</i> parts of the model. They all belong
to the environment.
</p><p>
Due to purely technical reasons (which will be presented later
<kbd style="color:red">here</kbd>)
we align sensory cells
with the columnar axis C of the tissue. It means that each sensory cell has a unique
coordinate along the axis. We can see in the picture that the first sensory cell
(depicted at the top) is associated with the first free coordinate <i>C</i> along
the axis (the columnar axis is depicted on the left of the list of the sensory cells).
Note though that sensory cells do <em>not</em> have coordinates along X and Y axes
of the tissue.
</p><p>
Observe further that the number of sensory cell of a sensory kind
<i>i</i> is represented by a number <i>N</i><sub><i>K</i>+<i>i</i></sub>. This
notation follows from the technicals reasons mentioned above.  It allows us to
encapsulate both kinds of cells (tissue and sensory) and their counts under one
representation accessed using a single mechanism. The last sensory cell (depicted
at the bottom) is assigned the highest valid coordinate <i>C</i><sub><i>S</i></sub>
along the columnar axis C. Clearly,
<i>C</i><sub><i>S</i></sub>
    = <i>C</i> + <i>N</i><sub><i>K</i>+0</sub> + &hellip;
        + <i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>
    = <i>N</i><sub>0</sub> + &hellip; + <i>N</i><sub><i>K</i>+<i>S</i>&minus;1</sub>.
We denote a total count of sensory cell as
<i>N</i><sub><i>S</i></sub> = <i>C</i><sub><i>S</i></sub> &minus; <i>C</i>.
</p><p>
Despite of division of sensory cells according to kinds, they are still
organised in one (long) list of cells as depicted in the picture from the top down.
Therefore, we can also identify individual sensory cells by their index (ordinal number)
in the list. The cell at the top has the index 0 and the cell at the bottom has the
index <i>N</i><sub><i>S</i></sub>&minus;1.
</p>
<h4 id="synapses_to_muscles">1.2.3&nbsp;&nbsp;&nbsp;Synapses to muscles</h4>
<p>
Synapses to muscles allows for delivery of information form the tissue to an external
environment. They are split into <i>U</i> different <i>kinds</i>
{0,&hellip;,<i>U</i>&minus;1}. The model does <em>not</em> define interpretations
of these kinds. This is left for parametrisations of the model. For example,
a parametrisation may interpret a kind as an assignment of synapses (of that kind)
to a particular muscle like biceps, triceps, etc. Neither muscles, the process of
decoding of information stored in the synapses, nor updating the environment
according to an effect of the decoded information on corresponding muscles
are <i>not</i> parts of the model. They all belong to the environment.
</p><p>
We can see in the picture above the number of synapses to muscles of a muscle
kind <i>i</i> is represented by a number <i>M</i><sub><i>i</i></sub>. The total
number of synapses to muscles is thus
<i>N</i><sub><i>M</i></sub> =
    <i>M</i><sub>0</sub> + &hellip; + <i>M</i><sub><i>U</i>&minus;1</sub>.
</p><p>
Despite of division of synapses to muscles according to kinds, they are still
organised in one (long) list as depicted in the picture from the top down.
We thus identify them by indices (ordinals) in the list. The synapse
at the top has the index 0 and the synapse at the bottom has the
index <i>N</i><sub><i>M</i></sub>&minus;1.
</p>
<h4 id="structure_of_column">1.2.4&nbsp;&nbsp;&nbsp;Structure of column in tissue</h4>
<p>
We already know that a tissue column is a list of territories aligned along the
columnar axis and that territories are logically grouped according to kinds.
In this section we considerably extend this description. We start with a picture
where we show a column and its territories with all their components.
</p>
<img class="figure"
     src="./column_and_cell_territory_structure.svg"
     alt="[column_and_cell_territory_structure.svg]">
<p>
We see that all territories (across all kinds) consist of six types of
components: a tissue <em>cell</em>, <em>signalling</em>, <em>delimiters list</em>,
and three lists of <em>synapses</em>, <em>territorial states</em> of synapses, and
<em>coordinates of source cells</em> of synapses. These three lists have the same length
in each territory (of any kind). Moreover, lengths of the lists in all territories of
the kind 0 is <i>T</i><sub>0</sub>, lengths of the lists in all territories of the kind 1
is <i>T</i><sub>1</sub>, and so on.
</p><p>
Each territory in the neural tissue is a <em>behavioral model</em> of a corresponding
spatial region in a modelled mammalian cerebral cortex
[<a href="./cellab.html#r01">1</a>].
If the mammalian cerebral cortex consists of <i>n</i> neurons
[<a href="./cellab.html#r03">3</a>],
then we can always spatially partition the whole
matter of the cortex into <i>n</i> non-overlapping regions with bodies of the neurons
in their centers. Besides the body of a neuron a region typically also contains synapses
[<a href="./cellab.html#r04">4</a>]
connected to the neuron, axons
[<a href="./cellab.html#r05">5</a>]
and dendrites
[<a href="./cellab.html#r06">6</a>]
traversing the region, glia cells
[<a href="./cellab.html#r07">7</a>],
inter-cellular liquid, and so on.
A territory, as a model of a region, is thus supposed to model all desired behaviour
occurring in the region.
</p><p>
A territory is, in fact, an abstract term in the neural tissue. Indeed, it is
associated with no data. It is only a term allowing us to collectively name
components mentioned above with physical data. The components together are thus
supposed to model the corresponding region. We describe them in subsections below.
</p>
<h5 id="tissue_cell">Tissue cell</h5>
<p>
It is an array of <i>NB</i><sub><i>C</i></sub> bits storing a compressed
state of a modelled neuron (whose body lies in the center of a region
in the mammalian cerebral cortex associated with the territory).
We do <em>not</em> define interpretation of individual bits
(i.e. what information is stored) nor a compression method. This is left for
parametrisations. For example, a parametrisation may choose (according to the
kind of the territory) to store a state of the leaky integrate-and-fire neuron
[<a href="./cellab.html#r09">9</a>,
 <a href="./cellab.html#r08">8</a>],
the Izhikevich neuron
[<a href="./cellab.html#r10">10</a>,
 <a href="./cellab.html#r08">8</a>],
the McCulloch-Pitts neuron
[<a href="./cellab.html#r11">11</a>,
 <a href="./cellab.html#r08">8</a>],
Hodgkin-Huxley neuron
[<a href="./cellab.html#r12">12</a>,
 <a href="./cellab.html#r08">8</a>],
or any other available model of a neuron. A compression method can be, for example,
serialisation
[<a href="./cellab.html#r13">13</a>].
</p><p>
We define a term <em>a kind of tissue cell</em> as a synonym for <em>a kind of a
territory</em>. Although the later is more accurate from the theoretical point of
view, in the C++ implementation of the library it is more convenient to use the
former term due to the abstract nature of a territory (it has no data) and since a
tissue cell is the central component from the point of view of the computational
complexity.
</p>
<h5 id="territorial_lists">Territorial lists</h5>
<p>
There are four lists in a territory. Namely, the list of <em>synapses</em>, the list
of <em>territorial states</em>, the list of <em>coordinates of source cells</em>,
and the <em>delimiters list</em>. The first three lists are tightly related.
Namely their elements on the same indices form triples; each triple models an
axon
[<a href="./cellab.html#r05">5</a>]
terminated in or traversing the territory. The delimiters list is an increasing
sequence of exactly six indices into the other three lists simultaneously.
The relations between all lists are depicted in the picture below for a territory
of a kind <i>i</i> (the cell and the signalling are omitted).
</p>
<img class="figure"
     src="./territorial_lists.svg"
     alt="[territorial_lists.svg]">
<p>
The delimiters list <i>D</i> is depicted on the left and the three other
lists are depicted on the right, from the top down. The symbols <i>LS</i>,
<i>LT</i>, and <i>LC</i> denote the lists of synapses,
territorial states, and coordinates of source cells, respectively. Observe that these three
lists have the same length and elements on the same indices are aligned, i.e. they form
triples across the lists.
</p><p>
For each an index <i>j</i> (0&le;<i>j</i>&lt;<i>T</i><sub><i>i</i></sub>) a triple
(<i>LS</i>[<i>j</i>],
<i>LT</i>[<i>j</i>],
<i>LC</i>[<i>j</i>])
represents a model of an axon
[<a href="./cellab.html#r05">5</a>]
projected from a certain tissue cell to this territory. It is assumed in the neural
tissue that the triple models the whole axon, including all its important parts like
the growth cone
[<a href="./cellab.html#r21">21</a>]
(when the axon is searching for a target tissue cell),
the synapse
[<a href="./cellab.html#r04">4</a>]
(when the axon is connected to a tissue cell),
and the (myelinated
[<a href="./cellab.html#r22">22</a>])
fibre itself. Nevertheless, we do <em>not</em> specify
in what details what parts of an axon are modelled. It is left for a parametrisation.
Therefore, a parametrisation may, in fact, abstract any part of an axon in a way
that it actually has no representation in the triple.
    <!--We discuss properties of-->
<!--all element of the triple in the following three subsections.-->
</p><p>
Now we focus on individual components of
(<i>LS</i>[<i>j</i>],
<i>LT</i>[<i>j</i>],
<i>LC</i>[<i>j</i>]).
The third component <i>LC</i>[<i>j</i>] stores tissue coordinates
<i>x</i>, <i>y</i>, and <i>c</i> of the tissue cell from which the modelled axon is
projected. We call the cell as <em>source cell</em>. A single tissue cell may be the
source cell for more than one triple from any territories in the tissue.
A parametrisation is responsible for setting coordinates in lists <i>LC</i>
of all territories in the neural tissue. The library
<a href="../cellconnect/cellconnect.html"><kbd>cellconnect</kbd></a>
provides algorithms for this task.
</p><p>
The second component <i>LT</i>[<i>j</i>] has one of seven
possible integer values 0,&hellip;,6. Their interpretations are given in the table
below. There we assume tissue coordinates of this territory are <i>x</i><sub>0</sub>,
<i>y</i><sub>0</sub>, and <i>c</i><sub>0</sub>.
</p>
<table class="enumerate">
<tr>
<th>Value&nbsp;&nbsp;&nbsp;</th>
<th>Interpretation</th>
</tr>
<tr>
<td align="center" valign="top">0</td>
<td>
The axon is connected to the cell of this territory via a synapse
[<a href="./cellab.html#r04">4</a>]. The cell can thus accept information
(typically as action potentials
[<a href="./cellab.html#r23">23</a>])
from the tissue cell inside the territory at coordinates
<i>LC</i>[<i>j</i>].
</td>
</tr>
<tr>
<td align="center" valign="top">1</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>+1, <i>y</i><sub>0</sub>, <i>c</i><sub>0</sub>.
</td>
</tr>
<tr>
<td align="center" valign="top">2</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>&minus;1, <i>y</i><sub>0</sub>, <i>c</i><sub>0</sub>.
</td>
</tr>
<tr>
<td align="center" valign="top">3</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>, <i>y</i><sub>0</sub>+1, <i>c</i><sub>0</sub>.
</td>
</tr>
<tr>
<td align="center" valign="top">4</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>, <i>y</i><sub>0</sub>&minus;1, <i>c</i><sub>0</sub>.
</td>
</tr>
<tr>
<td align="center" valign="top">5</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>, <i>y</i><sub>0</sub>, <i>c</i><sub>0</sub>+1.
</td>
</tr>
<tr>
<td align="center" valign="top">6</td>
<td>
The axon is not connected. Its growth cone is passing through this territory
into a territory at coordinates
<i>x</i><sub>0</sub>, <i>y</i><sub>0</sub>, <i>c</i><sub>0</sub>&minus;1.
</td>
</tr>
</table>
<p>
Algorithms of the neural tissue ensure that no axon escapes from the neural
tissue. The raw coordinates above are mapped to valid ranges along all three
coordinate axes (see the
<a href="./cellab.html#axis_mode">next subsection</a>
for details).
</p><p>
Finally, the first component <i>LS</i>[<i>j</i>] is an array of
<i>NB</i><sub><i>S</i></sub> bits where all remaining information about the
modelled axon is stored in an compressed form. We do <em>not</em> define
interpretation of individual bits (i.e. what information is stored) nor a
compression method. This is left for parametrisations.
</p><p>
Observe that <i>LS</i>[<i>j</i>] is called a synapse (since <i>LS</i> is the list
of synapses), although it may hold data representing any part (or even several
parts) of the modelled axon, like a growth cone, fibre, and so on.
There is thus a significant difference between a synapse defined here (an element
of <i>LS</i>) and a synapse
[<a href="./cellab.html#r04">4</a>]
representing a chemical or electrical connection between an axon and a neuron
in a mammalian cerebral cortex.
</p><p>
Delimiters list <i>D</i> has no interpretation in the modelled
mammalian cerebral cortex. It is a technicality boosting algorithms of the neural
tissue operating on the other three lists. Here we discuss only a necessary minimum
about the algorithms to understand the meaning of <i>D</i> (details are
<kbd style="color:red">HERE</kbd> and <kbd style="color:red">HERE</kbd>).
The lists <i>LS</i>, <i>LT</i>, and <i>LC</i> are synchronously sorted according
to information stored in <i>LT</i> (remember that elements of <i>LT</i>
are integers from the set {0,&hellip;,6}). By synchronous sorting we mean that if for
some indices <i>j</i> and <i>k</i> the elements <i>LT</i>[<i>j</i>]
and <i>LT</i>[<i>k</i>] are in the wrong order, then there is swapped
<i>LS</i>[<i>j</i>] with  <i>LS</i>[<i>k</i>],
<i>LT</i>[<i>j</i>] with  <i>LT</i>[<i>k</i>],
and
<i>LC</i>[<i>j</i>] with  <i>LC</i>[<i>k</i>].
In other words, the sorting respects the triples constructed across the lists.
Once the lists are sorted, we construct a look-up table
<i>D'</i></sub> =
[0, <i>n</i><sub>0</sub>, <i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>,
    <i>n</i><sub>3</sub>, <i>n</i><sub>4</sub>, <i>n</i><sub>5</sub>,
    <i>T</i><sub><i>i</i></sub>],
where <i>n</i><sub><i>j</i></sub> is a number of elements in
<i>LT</i> less than or equal to <i>j</i>. For each
<i>k</i>&isin;{0,&hellip;,6} the look-up table identifies a range of indices
of triples, namely <i>D'</i>[<i>k</i>],&hellip;,<i>D'</i>[<i>k</i>+1]&minus;1,
which all have the same value <i>k</i> in the list <i>LT</i>. The delimiters list
<i>D</i><sub><i>i</i></sub> is then defined as
[<i>n</i><sub>0</sub>, <i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>,
    <i>n</i><sub>3</sub>, <i>n</i><sub>4</sub>, <i>n</i><sub>5</sub>].
We store <i>D</i> in the territory instead of <i>D'</i> in order to save memory.
The reconstruction of <i>D'</i> from <i>D</i> is trivial. Note that we call
the numbers <i>n</i><sub><i>j</i></sub> as <em>delimiters</em>.
</p>
<h5 id="signalling">Signalling</h5>
<p>
It is an array of <i>NB</i><sub><i>G</i></sub> bits storing that part
of a state of a territory which is not modelled by any other component
of that territory. A compression is used to store the information.
We do <em>not</em> define interpretation of individual bits
(i.e. what information is stored) nor a compression method. This is left for
parametrisations. For example, a parametrisation may store an information
necessary for guidance of axons
[<a href="./cellab.html#r14">14</a>,
 <a href="./cellab.html#r15">15</a>,
 <a href="./cellab.html#r16">16</a>]
passing through the territory to reach target cells. The information may be
expressed, for example, in a form of a distribution of concentrations of
guidance cues
[<a href="./cellab.html#r17">17</a>,
 <a href="./cellab.html#r18">18</a>,
 <a href="./cellab.html#r19">19</a>,
 <a href="./cellab.html#r20">20</a>]
in the 3D space associated with the territory. A compression method can be,
for example, serialisation
[<a href="./cellab.html#r13">13</a>].
</p><p>

</p>
<h4 id="axis_mode">1.2.5&nbsp;&nbsp;&nbsp;Modes of tissue coordinate axes</h4>
<p>
Each of the three coordinate axes X, Y, and C of the tissue is used in
one of two possible modes: <em>clipping</em> or <em>torus</em>.
Once a mode is chosen for an axis, it is fixed and cannot be further changed.
A mode specifies a mapping from all possible coordinates (i.e. integers)
to the valid range of the axis. We use symbols <i>M</i><sub>X</sub>,
<i>M</i><sub>Y</sub>, and <i>M</i><sub>C</sub> to denote the mode maps of
the axes X, Y, and C respectively.
</p><p>
The clipping mode maps each negative coordinate to 0, each coordinate
in the valid range to itself, and each coordinate greater than the
greatest valid coordinate to the greatest valid coordinate.
</p><p>
The torus mode maps each coordinate to its residue class modulo <i>g</i>+1
[<a href="./cellab.html#r24">24</a>,<a
    href="./cellab.html#r25">25</a>],
where <i>g</i> is the greatest valid coordinate. Available residue
classes are those of the least residue system modulo <i>g</i>+1, i.e.
0,&hellip;,<i>g</i>. For example, <i>g</i>+1 is mapped to 0, &minus;1 to
<i>g</i>&minus;1, <i>g</i>+2 to 1, &minus;2 to
<i>g</i>&minus;2, and so on.
</p>
<h4 id="neighbourhood">1.2.6&nbsp;&nbsp;&nbsp;Neighbourhoods of components of territories</h4>
<p>
Let (<i>x</i>,<i>y</i>,<i>c</i>) be tissue coordinates and <i>r</i><sub><i>x</i></sub>,
<i>r</i><sub><i>y</i></sub>, and <i>r</i><sub><i>c</i></sub> be non-negative integers.
A <em>neighbourhood</em> at coordinates (<i>x</i>,<i>y</i>,<i>c</i>) with <em>radii</em>
<i>r</i><sub><i>x</i></sub>, <i>r</i><sub><i>y</i></sub>, <i>r</i><sub><i>c</i></sub>
is a set of all tissue coordinates
(<i>M</i><sub>X</sub>(<i>x</i>+&Delta;<i>x</i>),
<i>M</i><sub>Y</sub>(<i>y</i>+&Delta;<i>y</i>),
<i>M</i><sub>C</sub>(<i>c</i>+&Delta;<i>c</i>)), where
&minus;<i>r</i><sub><i>x</i></sub> &le; &Delta;<i>x</i> &le; <i>r</i><sub><i>x</i></sub>,
&minus;<i>r</i><sub><i>y</i></sub> &le; &Delta;<i>y</i> &le; <i>r</i><sub><i>y</i></sub>,
and
&minus;<i>r</i><sub><i>c</i></sub> &le; &Delta;<i>c</i> &le; <i>r</i><sub><i>c</i></sub>.
</p><p>
A parametrisation of the neural tissue have to specify radii, in all three axes X, Y,
and C, for certain components of territories. The radii are then used by algorithms of the
neural tissue to build neighbourhoods associated with those components. For each kind
of territory there is defined one set of radii. It means that components of territories
of the same kind share radii defined for that kind. Namely, a parametrisation have to
specify for each territory kind <i>i</i> radii <i>RC</i><sub>X</sub>[<i>i</i>],
<i>RC</i><sub>Y</sub>[<i>i</i>], and <i>RC</i><sub>C</sub>[<i>i</i>] for
tissue cells, radii <i>RS</i><sub>X</sub>[<i>i</i>], <i>RS</i><sub>Y</sub>[<i>i</i>],
and <i>RS</i><sub>C</sub>[<i>i</i>] for signallings, and radii
<i>RT</i><sub>X</sub>[<i>i</i>], <i>RT</i><sub>Y</sub>[<i>i</i>], and
<i>RT</i><sub>C</sub>[<i>i</i>] for all triples over territorial lists <i>LS</i>,
<i>LT</i>, and <i>LC</i>.
</p>
<h2 id="memory_representation">2.&nbsp;&nbsp;&nbsp;Memory representation of neural tissue</h2>
<p>

</p>
<h3 id="static_state_memory_rep">Static state</h3>
<p>
It is basically a collection of read-only properties listed in the table of the
<a href="./cellab.html#static_state">section 1.1</a>.

</p>
<h3 id="dynamic_state_memory_rep">Dynamic state</h3>
<h4 id="tissue_memory_rep">Tissue</h4>
<p>

</p>
<img class="figure"
     src="./tissue_physical_layout.svg"
     alt="[tissue_physical_layout.svg]">
<h2 id="transition_algorithms">3.&nbsp;&nbsp;&nbsp;Transition algorithms</h2>
<!--<p>-->
<!--An update of a cell proceeds in three steps: a decompression of the array of bytes-->
<!--into a separate memory outside the model, update of this memory by calling a given-->
<!--algorithm, and a compression of the updated memory back to the cell (to its array-->
<!--of bytes). The algorithm is <em>not</em> a part of the model. It is a part of a-->
<!--parametrisation. The model is only responsible for calling these steps in the right-->
<!--time and in the right order.-->
<!--</p>-->
<!--<h3 id="tissue_column_in_details">Tissue column in details</h3>-->


<!--<ul><li>-->
<!--<a href="../../../code/cellab/include/cellab/static_state_of_neural_tissue.hpp">-->
    <!--static_state_of_neural_tissue.hpp</a> and-->
<!--</li><li>-->
<!--<a href="../../../code/cellab/src/static_state_of_neural_tissue.cpp">-->
    <!--static_state_of_neural_tissue.cpp</a>.-->
<!--</li></ul>-->

<!--The construction of the neural tissue in the memory start by the construction of-->
<!--the static state. It is a parametrisation who provides data required for the-->
<!--construction. The passed data are parameters defining global immutable-->
<!--properties of the constructed neural tissue.-->
<!--Once the static state is created, the dynamic state is constructed-->
<!--according to data already stored in the static state. The constructed dynamic-->
<!--state has all its components initialised except parameters. Their initialisation-->
<!--is a task of the parametrisation. The dynamic state only provides access to the-->
<!--memory reserved for them. The library-->
<!--<a href="../cellconnect/cellconnect.html"><kbd>cellconnect</kbd></a>-->
<!--can be useful in that task.-->

<h2 id="aggregation_with_parametrisation">4.&nbsp;&nbsp;&nbsp;Aggregation with parametrisation</h2>

<h2 id="references">References</h2>
<table>
    <tr><td align="right" valign="top" id="r01">[1]</td><td>
        Wikipedia: Cerebral cortex.
        <a href="https://en.wikipedia.org/wiki/Cerebral_cortex">
            https://en.wikipedia.org/wiki/Cerebral_cortex</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r02">[2]</td><td>
        Wikipedia: Cartesian space.
        <a href="https://en.wikipedia.org/wiki/Cartesian_coordinate_system">
            https://en.wikipedia.org/wiki/Cartesian_coordinate_system</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r03">[3]</td><td>
        Wikipedia: Neuron.
        <a href="https://en.wikipedia.org/wiki/Neuron">
            https://en.wikipedia.org/wiki/Neuron</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r04">[4]</td><td>
        Wikipedia: Synapse.
        <a href="https://en.wikipedia.org/wiki/Synapse">
            https://en.wikipedia.org/wiki/Synapse</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r05">[5]</td><td>
        Wikipedia: Axon.
        <a href="https://en.wikipedia.org/wiki/Axon">
            https://en.wikipedia.org/wiki/Axon</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r06">[6]</td><td>
        Wikipedia: Dendrite.
        <a href="https://en.wikipedia.org/wiki/Dendrite">
            https://en.wikipedia.org/wiki/Dendrite</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r07">[7]</td><td>
        Wikipedia: Glia cell.
        <a href="https://en.wikipedia.org/wiki/Neuroglia">
            https://en.wikipedia.org/wiki/Neuroglia</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r08">[8]</td><td>
        Thomas Trappenberg. Fundamentals of Computational Neuroscience.
        OXFORD University Press, 2010.
    </td></tr>
    <tr><td align="right" valign="top" id="r09">[9]</td><td>
        Wikipedia: Leaky integrate-and-fire neuron.
        <a href="https://en.wikipedia.org/wiki/Biological_neuron_model#Leaky_integrate-and-fire">
            https://en.wikipedia.org/wiki/Biological_neuron_model#Leaky_integrate-and-fire</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r10">[10]</td><td>
        <a href="http://www.izhikevich.org/publications/spikes.htm">
            http://www.izhikevich.org/publications/spikes.htm</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r11">[11]</td><td>
        Martin Anthony.
        <a href="https://books.google.fr/books?id=qOy4yLBqhFcC&pg=PA3&redir_esc=y#v=onepage&q&f=false">
            Discrete Mathematics of Neural Networks: Selected Topics</a>.
        SIAM, 2001.
    </td></tr>
    <tr><td align="right" valign="top" id="r12">[12]</td><td>
        Wikipedia: Hodgkin-Huxley neuron.
        <a href="https://en.wikipedia.org/wiki/Hodgkin%E2%80%93Huxley_model">
            https://en.wikipedia.org/wiki/Hodgkin%E2%80%93Huxley_model</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r13">[13]</td><td>
        Wikipedia: Serialisation.
        <a href="https://en.wikipedia.org/wiki/Serialization">
            https://en.wikipedia.org/wiki/Serialization</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r14">[14]</td><td>
        Wikipedia: Axon guidance.
        <a href="https://en.wikipedia.org/wiki/Axon_guidance">
            https://en.wikipedia.org/wiki/Axon_guidance</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r15">[15]</td><td>
        MBInfo: Axon guidance and growth cone.
        <a href="http://www.mechanobio.info/modules/go-0007411">
            http://www.mechanobio.info/modules/go-0007411</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r16">[16]</td><td>
        MBInfo: Axon guidance and growth cone.
        <a href="http://www.mechanobio.info/modules/go-0007411/1_go-0007411">
            http://www.mechanobio.info/modules/go-0007411/1_go-0007411</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r17">[17]</td><td>
        Wikipedia: Slit-Robo.
        <a href="https://en.wikipedia.org/wiki/Slit-Robo">
            https://en.wikipedia.org/wiki/Slit-Robo</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r18">[18]</td><td>
        Wikipedia: Ephrin.
        <a href="https://en.wikipedia.org/wiki/Ephrin">
            https://en.wikipedia.org/wiki/Ephrin</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r19">[19]</td><td>
        Wikipedia: Netrin.
        <a href="https://en.wikipedia.org/wiki/Netrin">
            https://en.wikipedia.org/wiki/Netrin</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r20">[20]</td><td>
        Wikipedia: Semaphorin.
        <a href="https://en.wikipedia.org/wiki/Semaphorin">
            https://en.wikipedia.org/wiki/Semaphorin</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r21">[21]</td><td>
        Wikipedia: Growth cone.
        <a href="https://en.wikipedia.org/wiki/Growth_cone">
            https://en.wikipedia.org/wiki/Growth_cone</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r22">[22]</td><td>
        Wikipedia: Myelin.
        <a href="https://en.wikipedia.org/wiki/Myelin">
            https://en.wikipedia.org/wiki/Myelin</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r23">[23]</td><td>
        Wikipedia: Action potential.
        <a href="https://en.wikipedia.org/wiki/Action_potential">
            https://en.wikipedia.org/wiki/Action_potential</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r24">[24]</td><td>
        Wikipedia: Modular arithmetic.
        <a href="https://en.wikipedia.org/wiki/Modular_arithmetic">
            https://en.wikipedia.org/wiki/Modular_arithmetic</a>.
    </td></tr>
    <tr><td align="right" valign="top" id="r25">[25]</td><td>
        Wikipedia: Congruence relation.
        <a href="https://en.wikipedia.org/wiki/Congruence_relation">
            https://en.wikipedia.org/wiki/Congruence_relation</a>.
    </td></tr>
</table>

</body>
</html>
